const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ui-CpcQKOpE.js","assets/ethereum-Dpu0wFLT.js","assets/vendor-BVRmVL55.js","assets/ui-Bl5RHsbD.css","assets/Profile-DTFwku7F.js","assets/Profile-Ue3rVBmm.css"])))=>i.map(i=>d[i]);
import{j as e,W as Ae,B as Z,C as G,f as re}from"./ethereum-Dpu0wFLT.js";import{c as _e,g as Fe,a as o,R as Re,B as Pe,d as Oe,f as Me}from"./vendor-BVRmVL55.js";import{P as De,u as We,C as $,a as Ve,I as Ue,T as Be,b as Je}from"./ui-CpcQKOpE.js";(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const l of d.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function j(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerPolicy&&(d.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?d.credentials="include":i.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(i){if(i.ep)return;i.ep=!0;const d=j(i);fetch(i.href,d)}})();var U={},ae;function Ze(){if(ae)return U;ae=1;var c=_e();return U.createRoot=c.createRoot,U.hydrateRoot=c.hydrateRoot,U}var Ge=Ze();const $e=Fe(Ge),ze="modulepreload",qe=function(c){return"/"+c},oe={},ce=function(f,j,r){let i=Promise.resolve();if(j&&j.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),g=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(j.map(x=>{if(x=qe(x),x in oe)return;oe[x]=!0;const b=x.endsWith(".css"),S=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${S}`))return;const w=document.createElement("link");if(w.rel=b?"stylesheet":ze,b||(w.as="script"),w.crossOrigin="",w.href=x,g&&w.setAttribute("nonce",g),document.head.appendChild(w),b)return new Promise((P,_)=>{w.addEventListener("load",P),w.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${x}`)))})}))}function d(l){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=l,window.dispatchEvent(g),!g.defaultPrevented)throw l}return i.then(l=>{for(const g of l||[])g.status==="rejected"&&d(g.reason);return f().catch(d)})},Xe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiIzMTdjMDVkZi0wMDIwLTRiMTUtOTM1NC00OThlMzYyZWNhMmUiLCJlbWFpbCI6IjA3MTVzdG9uZUBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwicGluX3BvbGljeSI6eyJyZWdpb25zIjpbeyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJGUkExIn0seyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJOWUMxIn1dLCJ2ZXJzaW9uIjoxfSwibWZhX2VuYWJsZWQiOmZhbHNlLCJzdGF0dXMiOiJBQ1RJVkUifSwiYXV0aGVudGljYXRpb25UeXBlIjoic2NvcGVkS2V5Iiwic2NvcGVkS2V5S2V5IjoiZjQ3ZDM5M2E0MDUyYjA1NmY3OWMiLCJzY29wZWRLZXlTZWNyZXQiOiJlNjk4MjQwOGU5NmVlOTA1YTdhYzMyMjE3MjQ5NzMzNGM3YTA0OGIzNzE0NDUzYzhkNTJlYzFiNWNkMTljY2VmIiwiZXhwIjoxNzcwMTM5MzEzfQ.CaT__jSkLWkGSCxFK6oAQutPmYxExdKpe55n4qMeZDc",Ye=c=>new Promise(f=>setTimeout(f,c));async function de(){try{const c=await fetch(`${De}/data/pinList?pageLimit=100`,{method:"GET",headers:{Authorization:`Bearer ${Xe}`,"Content-Type":"application/json"}});if(!c.ok){if(c.status===429)return await Ye(1e3),de();throw new Error(`HTTP error! status: ${c.status}`)}const f=await c.json();return console.log("Pinata response:",f),f}catch(c){throw console.error("Error fetching from Pinata:",c),c}}const He=({onSearch:c})=>{const[f,j]=o.useState(""),r=d=>{const l=d.target.value;j(l),c(l)},i=d=>{d.preventDefault()};return e.jsx("div",{className:"search-section",children:e.jsxs("form",{className:"search-container",onSubmit:i,children:[e.jsx("i",{className:"fas fa-search"}),e.jsx("input",{type:"text",placeholder:"Search Pokemon...",value:f,onChange:r,className:"search-input"})]})})},Qe=o.lazy(()=>ce(()=>import("./ui-CpcQKOpE.js").then(c=>c.d),__vite__mapDeps([0,1,2,3]))),Ke=o.lazy(()=>ce(()=>import("./Profile-DTFwku7F.js"),__vite__mapDeps([4,1,2,0,3,5]))),ie="0x9550C786877ECdfbEb4dE17b9644B5b47B1BF1aF",et="0x6a8e1C4558F395E00A2dc0439A097B293355F546",tt=["Normal","Fire","Water","Grass","Electric","Ice","Fighting","Poison","Ground","Flying","Psychic","Bug","Rock","Ghost","Dragon","Dark","Steel","Fairy"],le={chainId:"0xaa36a7",chainName:"Sepolia",nativeCurrency:{name:"Sepolia ETH",symbol:"ETH",decimals:18},rpcUrls:["https://eth-sepolia.g.alchemy.com/v2/8XyigRnoVSZULHhAxlOfXLfcEcNUZ36P"],blockExplorerUrls:["https://sepolia.etherscan.io"]};function st(){const{addToCart:c,removeFromCart:f,cartItems:j}=We(),[r,i]=o.useState(null),[d,l]=o.useState(null),[g,x]=o.useState(!1),[b,S]=o.useState(!1),[w,P]=o.useState([]);o.useState([]);const[_,he]=o.useState([]),[ue,me]=o.useState(!1),[B,pe]=o.useState(!1),[z,O]=o.useState(!1),[E,q]=o.useState(null),[fe,C]=o.useState(""),[we,N]=o.useState(!1),[ge,y]=o.useState("success"),[h,M]=o.useState({status:"all",owner:"all",priceRange:{min:null,max:null},types:[]}),[X,je]=o.useState(!1),[F,xe]=o.useState(""),Y=j.length,[L,H]=o.useState("main"),[D,Ce]=o.useState([]),[T,Ne]=o.useState({status:!1,owner:!1,price:!1,traits:!1}),W=t=>{Ne(s=>({...s,[t]:!s[t]}))},Q=()=>typeof window<"u"&&!!window.ethereum,ye=async()=>{if(!Q()){C("Please install MetaMask first"),y("error"),N(!0),window.open("https://metamask.io/download/","_blank");return}x(!0);try{await window.ethereum.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});const t=await window.ethereum.request({method:"eth_requestAccounts"});if(t&&t.length>0){const s=t[0];i(s),S(!0);try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:le.chainId}]})}catch(n){if(n.code===4902)try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[le]})}catch(a){console.error("Error adding Sepolia network:",a),C("Failed to add Sepolia network to MetaMask"),y("error"),N(!0);return}else throw n}C("Wallet connected successfully"),y("success"),N(!0),localStorage.setItem("walletConnected","true"),localStorage.setItem("walletAddress",s)}}catch(t){console.error("Error connecting wallet:",t);let s="Error connecting wallet";t.code===4001?s="You rejected the connection request":t.message.includes("already pending")&&(s="Connection request already pending. Check MetaMask"),C(s),y("error"),N(!0)}finally{x(!1)}},J=async()=>{try{localStorage.removeItem("walletConnected"),localStorage.removeItem("walletAddress"),i(null),S(!1),l(null),H("main"),window.ethereum&&window.ethereum.removeAllListeners&&window.ethereum.removeAllListeners(),C("Wallet disconnected"),y("success"),N(!0)}catch(t){console.error("Error disconnecting wallet:",t),C("Error disconnecting wallet"),y("error"),N(!0)}};o.useEffect(()=>{(async()=>{if(Q())try{const s=localStorage.getItem("walletConnected")==="true",n=localStorage.getItem("walletAddress");if(s&&n){const a=await window.ethereum.request({method:"eth_accounts"});a.length>0&&a[0].toLowerCase()===n.toLowerCase()?(i(a[0]),S(!0)):(localStorage.removeItem("walletConnected"),localStorage.removeItem("walletAddress"))}}catch(s){console.error("Error checking wallet connection:",s),localStorage.removeItem("walletConnected"),localStorage.removeItem("walletAddress")}})()},[]),o.useEffect(()=>{if(window.ethereum){const t=a=>{a.length===0?J():a[0].toLowerCase()!==(r==null?void 0:r.toLowerCase())&&(i(a[0]),S(!0),localStorage.setItem("walletConnected","true"),localStorage.setItem("walletAddress",a[0]))},s=()=>{C("Network changed. Refreshing..."),y("error"),N(!0),setTimeout(()=>window.location.reload(),2e3)},n=()=>{J()};return window.ethereum.on("accountsChanged",t),window.ethereum.on("chainChanged",s),window.ethereum.on("disconnect",n),()=>{window.ethereum&&(window.ethereum.removeListener("accountsChanged",t),window.ethereum.removeListener("chainChanged",s),window.ethereum.removeListener("disconnect",n))}}},[r]);const V=async()=>{if(r&&window.ethereum)try{const s=await new Z(window.ethereum).getBalance(r);l(re(s))}catch(t){console.error("Error fetching balance:",t),l("Error")}};o.useEffect(()=>{if(r){V();const t=setInterval(V,1e4);return()=>clearInterval(t)}else l(null)},[r]),o.useEffect(()=>{window.ethereum&&(window.ethereum.on("chainChanged",()=>{r&&V()}),window.ethereum.on("accountsChanged",()=>{r&&V()}))},[r]);const ve=t=>{t.length>0?(i(t[0]),S(!0)):(i(null),S(!1))};o.useEffect(()=>(window.ethereum&&window.ethereum.on("accountsChanged",t=>{Array.isArray(t)&&ve(t)}),()=>{window.ethereum&&window.ethereum.removeListener("accountsChanged",()=>{})}),[]),o.useEffect(()=>{K(),be()},[]);const Ie=async t=>{if(!window.ethereum||!r)return t;try{const s=new Z(window.ethereum),n=new G(ie,$.NFT_CONTRACT,s),a=await n.cardIdCounter(),m=await Promise.all(t.map(async v=>{try{for(let p=1;p<=a;p++)try{const I=await n.tokenURI(p),k=await n.ownerOf(p),u=I.replace("ipfs://",""),A=v.ipfs_pin_hash;if(u===A)return{...v,isOwned:k.toLowerCase()===r.toLowerCase(),tokenId:p.toString()}}catch{continue}return{...v,isOwned:!1,tokenId:void 0}}catch(p){return console.error("Error checking ownership:",p),v}}));return P(m),m}catch(s){return console.error("Error in checkNFTOwnership:",s),t}},K=async()=>{try{const t=await de();console.log("Fetched Pinata items:",t.rows);const s=await Ie(t.rows||[]);console.log("Items with ownership checked:",s),P(s)}catch(t){console.error("Error fetching Pinata items:",t)}};o.useEffect(()=>{r&&(console.log("Account changed, reloading items for:",r),K())},[r]);const ee=(t,s)=>{var a;t.preventDefault();const n={...s,tokenId:(a=s.tokenId)==null?void 0:a.toString()};q(n)},te=(t,s)=>{var a;if(t.preventDefault(),t.stopPropagation(),j.some(m=>m.id===s.ipfs_pin_hash))f(s.ipfs_pin_hash),C("Removed from cart"),y("error");else{if(!s.tokenId){C("Error: Token ID not found"),y("error"),N(!0);return}c({id:s.ipfs_pin_hash,image:`https://gateway.pinata.cloud/ipfs/${s.ipfs_pin_hash}`,name:((a=s.metadata)==null?void 0:a.name)||"Pokemon Card NFT",price:s.price?parseFloat(s.price):0,quantity:1,tokenId:parseInt(s.tokenId)}),C("Added to cart"),y("success")}N(!0)},ke=t=>{xe(t),me(!!t)},R=(t,s)=>{M(n=>({...n,[t]:s}))},se=(t,s)=>{M(n=>({...n,priceRange:{min:t,max:s}}))};o.useEffect(()=>{if(L==="main"){console.log("Starting filtering with:",{totalItems:w.length,listedNFTs:D.length,filters:h,account:r,searchTerm:F});const t=new Map(D.map(n=>[n.ipfsHash,n]));let s=w.map(n=>{var a,m,v,p;return{...n,isListed:t.has(n.ipfs_pin_hash),price:(a=t.get(n.ipfs_pin_hash))==null?void 0:a.price,seller:(m=t.get(n.ipfs_pin_hash))==null?void 0:m.seller,tokenId:(v=t.get(n.ipfs_pin_hash))==null?void 0:v.tokenId,isAuction:((p=t.get(n.ipfs_pin_hash))==null?void 0:p.isAuction)||!1}});F&&(s=s.filter(n=>{var a,m;return(m=(a=n.metadata)==null?void 0:a.name)==null?void 0:m.toLowerCase().includes(F.toLowerCase())})),h.status==="listed"?s=s.filter(n=>n.isListed&&!n.isAuction):h.status==="auction"?s=s.filter(n=>n.isListed&&n.isAuction):h.status==="all"&&(s=s.filter(n=>n.isListed)),h.owner==="me"&&r&&(s=s.filter(n=>{var a;return((a=n.seller)==null?void 0:a.toLowerCase())===r.toLowerCase()})),console.log("Filtered items:",{displayItems:s,filterStatus:h.status,filterOwner:h.owner,searchTerm:F}),he(s)}},[L,w,D,r,h.status,h.owner,F]);const Se=t=>{M(s=>({...s,types:s.types.includes(t)?s.types.filter(n=>n!==t):[...s.types,t]}))},Te=(t,s)=>{s.stopPropagation(),M(n=>({...n,types:n.types.filter(a=>a!==t)}))},be=async()=>{if(window.ethereum)try{const t=new Z(window.ethereum),s=new G(et,$.TRADING_CONTRACT,t),n=s.filters.CardListed(),a=await s.queryFilter(n),m=new G(ie,$.NFT_CONTRACT,t),p=(await Promise.all(a.map(async I=>{const{tokenId:k,price:u,seller:A,isAuction:Ee}=I.args;try{const Le=(await m.tokenURI(k)).replace("ipfs://","");if((await s.listings(k)).isActive)return{tokenId:k.toString(),ipfsHash:Le,price:re(u),seller:A,isAuction:Ee}}catch(ne){console.error("Error processing listing for token",k.toString(),":",ne)}return null}))).filter(I=>I!==null);Ce(p)}catch(t){console.error("Error fetching listed NFTs:",t)}};return e.jsxs("div",{style:{backgroundColor:"#fff"},children:[e.jsxs("section",{id:"header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("img",{src:"/img/poke_ball.png",className:"logo",alt:"Pokeball",width:"64",height:"57"}),e.jsx("h1",{children:"Pokémon NFT Trading Site"})]}),e.jsx(He,{onSearch:ke}),e.jsx("div",{children:e.jsxs("ul",{id:"navbar",children:[e.jsxs("button",{className:"cart-button",onClick:()=>O(!z),children:[e.jsx("i",{className:"fas fa-shopping-cart"}),Y>0&&e.jsx("span",{className:"cart-count",children:Y})]}),e.jsx("div",{className:"wallet-section",children:b?e.jsxs("div",{className:"wallet-connected",children:[e.jsxs("button",{className:"wallet-info-button",onClick:()=>pe(!B),children:[e.jsx("i",{className:"fas fa-wallet"}),e.jsx("span",{children:"Connected"}),e.jsx("i",{className:`fas fa-chevron-${B?"up":"down"}`})]}),B&&e.jsxs("div",{className:"wallet-dropdown",children:[e.jsxs("div",{className:"wallet-address",children:[e.jsx("span",{children:"Address:"}),e.jsxs("p",{children:[r==null?void 0:r.slice(0,6),"...",r==null?void 0:r.slice(-4)]})]}),e.jsxs("div",{className:"wallet-balance",children:[e.jsx("span",{children:"Balance:"}),e.jsx("p",{children:d?`${Number(d).toFixed(4)} ETH`:"Loading..."})]}),e.jsxs("button",{onClick:J,className:"disconnect-button",children:[e.jsx("i",{className:"fas fa-sign-out-alt"}),e.jsx("span",{children:"Disconnect"})]})]})]}):e.jsxs("button",{onClick:ye,disabled:g,className:"wallet-button",children:[e.jsx("i",{className:"fas fa-wallet"}),e.jsx("span",{children:g?"Connecting...":"Connect"})]})}),e.jsxs("button",{className:`profile-btn ${L==="profile"?"active":""}`,onClick:()=>{if(!b){C("Please connect your wallet first"),y("error"),N(!0);return}H(L==="profile"?"main":"profile")},children:[e.jsx("i",{className:`fas ${L==="profile"?"fa-home":"fa-user"}`}),e.jsx("span",{children:L==="profile"?"Home":"Profile"})]}),e.jsx("a",{href:"#",id:"close",children:e.jsx("i",{className:"far fa-times"})})]})}),e.jsx("div",{id:"mobile",children:e.jsx("i",{id:"bar",className:"fas fa-outdent"})})]}),e.jsx(o.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:L==="main"?e.jsxs("div",{className:"main-container",children:[e.jsxs("aside",{className:"sidebar",children:[e.jsxs("div",{className:"filter-section",children:[e.jsxs("h3",{onClick:()=>W("status"),children:["Status",e.jsx("i",{className:`fas fa-chevron-down ${T.status?"rotated":""}`})]}),e.jsxs("div",{className:`filter-content ${T.status?"collapsed":"expanded"}`,children:[e.jsxs("div",{className:"filter-option",children:[e.jsx("input",{type:"radio",id:"status-all",name:"status",checked:h.status==="all",onChange:()=>R("status","all")}),e.jsx("label",{htmlFor:"status-all",children:"All"})]}),e.jsxs("div",{className:"filter-option",children:[e.jsx("input",{type:"radio",id:"status-listed",name:"status",checked:h.status==="listed",onChange:()=>R("status","listed")}),e.jsx("label",{htmlFor:"status-listed",children:"Listed"})]}),e.jsxs("div",{className:"filter-option",children:[e.jsx("input",{type:"radio",id:"status-auction",name:"status",checked:h.status==="auction",onChange:()=>R("status","auction")}),e.jsx("label",{htmlFor:"status-auction",children:"On Auction"})]})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("h3",{onClick:()=>W("owner"),children:["Owner",e.jsx("i",{className:`fas fa-chevron-down ${T.owner?"rotated":""}`})]}),e.jsxs("div",{className:`filter-content ${T.owner?"collapsed":"expanded"}`,children:[e.jsxs("div",{className:"filter-option",children:[e.jsx("input",{type:"radio",id:"owner-all",name:"owner",checked:h.owner==="all",onChange:()=>R("owner","all")}),e.jsx("label",{htmlFor:"owner-all",children:"All"})]}),e.jsxs("div",{className:"filter-option",children:[e.jsx("input",{type:"radio",id:"owner-me",name:"owner",checked:h.owner==="me",onChange:()=>R("owner","me")}),e.jsx("label",{htmlFor:"owner-me",children:"My NFTs"})]})]})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("h3",{onClick:()=>W("price"),children:["Price",e.jsx("i",{className:`fas fa-chevron-down ${T.price?"rotated":""}`})]}),e.jsx("div",{className:`filter-content ${T.price?"collapsed":"expanded"}`,children:e.jsxs("div",{className:"price-range",children:[e.jsx("input",{type:"number",placeholder:"Min",className:"price-input",value:h.priceRange.min||"",onChange:t=>se(t.target.value?Number(t.target.value):null,h.priceRange.max)}),e.jsx("span",{children:"to"}),e.jsx("input",{type:"number",placeholder:"Max",className:"price-input",value:h.priceRange.max||"",onChange:t=>se(h.priceRange.min,t.target.value?Number(t.target.value):null)})]})})]}),e.jsxs("div",{className:"filter-section",children:[e.jsxs("h3",{onClick:()=>W("traits"),children:["Traits",e.jsx("i",{className:`fas fa-chevron-down ${T.traits?"rotated":""}`})]}),e.jsx("div",{className:`filter-content ${T.traits?"collapsed":"expanded"}`,children:e.jsx("div",{className:"filter-option",children:e.jsxs("div",{className:"type-selector",children:[e.jsxs("button",{className:"type-dropdown-button",onClick:()=>je(!X),children:[e.jsx("div",{className:"selected-types",children:h.types.length===0?e.jsx("span",{children:"Select Types"}):e.jsx("div",{className:"type-tags",children:h.types.map(t=>e.jsxs("div",{className:`type-tag ${t.toLowerCase()}`,children:[t,e.jsx("button",{className:"remove-type",onClick:s=>Te(t,s),children:"×"})]},t))})}),e.jsx("i",{className:"fas fa-chevron-down"})]}),X&&e.jsx("div",{className:"type-dropdown-panel",children:tt.map(t=>e.jsx("div",{className:`type-badge ${t.toLowerCase()} ${h.types.includes(t)?"selected":""}`,onClick:()=>Se(t),children:t},t))})]})})})]})]}),e.jsxs("div",{className:"content-area",children:[e.jsx("section",{id:"product1",className:"section-p1",children:e.jsx("div",{className:"pro-container",children:_.length===0?e.jsx("div",{className:"no-items-message",children:"No NFTs found"}):_.map(t=>{var s,n,a,m,v,p,I,k;return e.jsxs("div",{className:"pro",onClick:u=>ee(u,t),children:[e.jsx(Ve,{hash:t.ipfs_pin_hash,alt:((s=t.metadata)==null?void 0:s.name)||"NFT Item"}),e.jsxs("div",{className:"des",children:[e.jsx("span",{children:((a=(n=t.metadata)==null?void 0:n.keyvalues)==null?void 0:a.Type)||"Type"}),e.jsx("h5",{children:((m=t.metadata)==null?void 0:m.name)||"Pokemon Card NFT"}),t.price&&e.jsx("div",{className:"price-tag",children:e.jsxs("span",{children:[t.price," ETH"]})})]}),e.jsx("div",{className:"button-group",children:e.jsxs("div",{className:"tooltip","data-disabled":((v=t.seller)==null?void 0:v.toLowerCase())===(r==null?void 0:r.toLowerCase())||t.isAuction,"data-tooltip-message":((p=t.seller)==null?void 0:p.toLowerCase())===(r==null?void 0:r.toLowerCase())?"You are the owner of this NFT":t.isAuction?"This NFT is currently in an auction":"",children:[!t.isAuction&&e.jsx("button",{className:`cart-button ${j.some(u=>u.id===t.ipfs_pin_hash)?"in-cart":""}`,onClick:u=>te(u,t),disabled:((I=t.seller)==null?void 0:I.toLowerCase())===(r==null?void 0:r.toLowerCase())||t.isAuction,children:e.jsx("i",{className:"fas fa-shopping-cart"})}),t.isAuction?e.jsx("button",{className:"auction-button",onClick:u=>{u.preventDefault(),u.stopPropagation(),ee(u,t),setTimeout(()=>{const A=document.querySelector(".auction-section");A==null||A.scrollIntoView({behavior:"smooth"})},100)},children:"View Auction"}):e.jsx("button",{className:"buy-now-button",onClick:u=>{u.preventDefault(),te(u,t),O(!0)},disabled:((k=t.seller)==null?void 0:k.toLowerCase())===(r==null?void 0:r.toLowerCase()),children:"Buy Now"})]})})]},t.ipfs_pin_hash)})})}),ue&&_.length===0&&e.jsx("div",{className:"no-results",children:e.jsx("h2",{children:"No Pokemon NFT found"})})]})]}):e.jsx(Ke,{nftItems:w.filter(t=>{const s=D.find(a=>a.tokenId===t.tokenId),n=s&&s.seller.toLowerCase()===(r==null?void 0:r.toLowerCase());return n?{...t,price:s.price,isListed:!0}:t.isOwned||n}),account:r})}),E&&e.jsx(o.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(Ue,{ipfsHash:E.ipfs_pin_hash,metadata:E.metadata,onClose:()=>q(null),onCartOpen:()=>O(!0),price:E.price||void 0,seller:E.seller||void 0,tokenId:E.tokenId?Number(E.tokenId):void 0})}),e.jsx(Qe,{isOpen:z,onClose:()=>O(!1)}),e.jsx(Be,{message:fe,isVisible:we,onHide:()=>N(!1),type:ge})]})}function nt(){return e.jsx(Ae,{sdkOptions:{dappMetadata:{name:"Pokemon NFT Trading Site"}},children:e.jsx(st,{})})}$e.createRoot(document.getElementById("root")).render(e.jsx(Re.StrictMode,{children:e.jsx(Pe,{children:e.jsx(Je,{children:e.jsx(Oe,{children:e.jsx(Me,{path:"/",element:e.jsx(nt,{})})})})})}));
